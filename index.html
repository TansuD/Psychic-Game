<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8" />
    <title>Psychic Game</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />

    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div id="psychic">
      <h1>Psychic Game</h1>
      <p>Guess what letter I'm thinking of!</p>
      <p>Wins:</p>
      <p>Losses:</p>
      <p>Guesses Left:</p>
      <p>Your Guesses so far:</p>
    </div>

    <script>
      var computerChoices = [
        "a",
        "b",
        "c",
        "d",
        "e",
        "f",
        "g",
        "h",
        "i",
        "j",
        "k",
        "l",
        "m",
        "n",
        "o",
        "p",
        "q",
        "r",
        "s",
        "t",
        "u",
        "v",
        "w",
        "x",
        "y",
        "z"
      ];

      var wins = 0;
      var losses = 0;
      var numberOfGuesses = 9;
      var guesses = [];

      document.onkeyup = function(event) {
        var userGuess = event.key;

        var computerGuess =
          computerChoices[Math.floor(Math.random() * computerChoices.length)];

        var options = [
          "a",
          "b",
          "c",
          "d",
          "e",
          "f",
          "g",
          "h",
          "i",
          "j",
          "k",
          "l",
          "m",
          "n",
          "o",
          "p",
          "q",
          "r",
          "s",
          "t",
          "u",
          "v",
          "w",
          "x",
          "y",
          "z"
        ];

        if (options.indexOf(userGuess) > -1) {
          if (userGuess === computerGuess) {
            wins++;
            numberOfGuesses = 9;
            guesses = [];
          }

          if (userGuess != computerGuess) {
            numberOfGuesses--;
            guesses.push(userGuess);
          }

          if (numberOfGuesses === 0) {
            numberOfGuesses = 9;
            losses++;
            guesses = [];
          }

          var text =
            "<h1> The Psychic Game </h1>" +
            "<p>Guess what letter I'm thinking of!</p>" +
            "<p>Wins: " +
            wins +
            "</p>" +
            "<p>Losses: " +
            losses +
            "</p>" +
            "<p>Guesses Left: " +
            numberOfGuesses +
            "</p>" +
            "<p>Your Guesses so far: " +
            guesses.join(", ") +
            "</p>";

          document.querySelector("#psychic").innerHTML = text;
        }
      };
    </script>
  </body>
</html>
